{"ast":null,"code":"import { sendPost } from \"../../connections/backendConnect\";\nexport const handleRegister = async (values, navigate) => {\n  const {\n    email,\n    password,\n    username\n  } = values;\n  try {\n    const res = await sendPost(\"/user/register\", {\n      email,\n      password,\n      username\n    });\n    console.log(\"res register\", res);\n    if (res.success === true) {\n      if (res.accessToken) localStorage.setItem(\"accessToken\", res.accessToken);\n      if (res.refreshToken) localStorage.setItem(\"refreshToken\", res.refreshToken);\n      localStorage.setItem(\"user\", JSON.stringify(res.user || {\n        email,\n        username\n      }));\n      navigate(\"/home\");\n      return {\n        success: true\n      };\n    }\n    if (res.success === false && res.field) {\n      return res;\n    }\n    if (res.error) {\n      return {\n        success: false,\n        message: res.error\n      };\n    }\n    return {\n      success: false,\n      message: res.message || \"Error desconocido al registrar\"\n    };\n  } catch (error) {\n    console.error(\"[RegisterBackend]: Error en handleRegister:\", error);\n    return {\n      success: false,\n      message: \"Error inesperado\"\n    };\n  }\n};","map":{"version":3,"names":["sendPost","handleRegister","values","navigate","email","password","username","res","console","log","success","accessToken","localStorage","setItem","refreshToken","JSON","stringify","user","field","error","message"],"sources":["C:/Users/tig1/Desktop/Nueva carpeta (3)/projectManagement/frontend/src/views/registerView/registerBackend.js"],"sourcesContent":["import { sendPost } from \"../../connections/backendConnect\";\r\n\r\nexport const handleRegister = async (values, navigate) => {\r\n \r\n  const { email, password, username } = values;\r\n  try {\r\n    const res = await sendPost(\"/user/register\", { email, password, username });\r\n    console.log(\"res register\", res);\r\n\r\n    if (res.success === true) {\r\n      if (res.accessToken) localStorage.setItem(\"accessToken\", res.accessToken);\r\n      if (res.refreshToken) localStorage.setItem(\"refreshToken\", res.refreshToken);\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(res.user || { email, username }));\r\n\r\n\r\n      navigate(\"/home\");\r\n      return { success: true };\r\n    }\r\n\r\n    if (res.success === false && res.field) {\r\n      return res;\r\n    }\r\n\r\n    if (res.error) {\r\n      return {\r\n        success: false,\r\n        message: res.error,\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: false,\r\n      message: res.message || \"Error desconocido al registrar\",\r\n    };\r\n  } catch (error) {\r\n    console.error(\"[RegisterBackend]: Error en handleRegister:\", error);\r\n    return { success: false, message: \"Error inesperado\" };\r\n  }\r\n};"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,kCAAkC;AAE3D,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAOC,MAAM,EAAEC,QAAQ,KAAK;EAExD,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAGJ,MAAM;EAC5C,IAAI;IACF,MAAMK,GAAG,GAAG,MAAMP,QAAQ,CAAC,gBAAgB,EAAE;MAAEI,KAAK;MAAEC,QAAQ;MAAEC;IAAS,CAAC,CAAC;IAC3EE,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAAC;IAEhC,IAAIA,GAAG,CAACG,OAAO,KAAK,IAAI,EAAE;MACxB,IAAIH,GAAG,CAACI,WAAW,EAAEC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEN,GAAG,CAACI,WAAW,CAAC;MACzE,IAAIJ,GAAG,CAACO,YAAY,EAAEF,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,GAAG,CAACO,YAAY,CAAC;MAE5EF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACT,GAAG,CAACU,IAAI,IAAI;QAAEb,KAAK;QAAEE;MAAS,CAAC,CAAC,CAAC;MAG7EH,QAAQ,CAAC,OAAO,CAAC;MACjB,OAAO;QAAEO,OAAO,EAAE;MAAK,CAAC;IAC1B;IAEA,IAAIH,GAAG,CAACG,OAAO,KAAK,KAAK,IAAIH,GAAG,CAACW,KAAK,EAAE;MACtC,OAAOX,GAAG;IACZ;IAEA,IAAIA,GAAG,CAACY,KAAK,EAAE;MACb,OAAO;QACLT,OAAO,EAAE,KAAK;QACdU,OAAO,EAAEb,GAAG,CAACY;MACf,CAAC;IACH;IAEA,OAAO;MACLT,OAAO,EAAE,KAAK;MACdU,OAAO,EAAEb,GAAG,CAACa,OAAO,IAAI;IAC1B,CAAC;EACH,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdX,OAAO,CAACW,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAAC;IACnE,OAAO;MAAET,OAAO,EAAE,KAAK;MAAEU,OAAO,EAAE;IAAmB,CAAC;EACxD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}